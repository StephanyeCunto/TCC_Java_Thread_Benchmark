\documentclass[12pt,a4paper]{article}
\usepackage{fontspec} 
\usepackage{array}    
\usepackage{geometry}
\usepackage{textcomp}
\usepackage{graphicx} 

\geometry{left=0cm, right=2cm, top=2cm, bottom=2cm}


\begin{document}

    \begin{center}
        \begin{tabular}{|p{3cm}|p{6cm}|p{6cm}|} \hline
            \textbf{Recurso} & \textbf{Métricas típicas} & \textbf{Ferramentas Linux } \\ \hline
            CPU & \%usr, \%nice, \%sys, \%iowait, \%irq, \%soft, \%steal, \%guest, \%gnice, \%idle & \texttt{mpstat}\\ \hline
            Memória RAM & r, b, swpd, free, buff, cache, si, so, bi, bo, in, cs, us, sy, id, wa, st, gu &  \texttt{vmstat} \\ \hline
            Disco & Device,r/s,rkB/s, rrqm/s,\%rrqm,r\_await,rareq-sz,w/s,wkB/s,wrqm/s,\%wrqm, w\_await,wareq-sz,d/s,dkB/s,drqm/s,\%drqm, d\_await,dareq-sz,f/s,f\_await,aqu-sz,\%util & \texttt{iostat}\\ \hline
        \end{tabular}
    \end{center}

        Mpstart: \\
            azureuser@linux-java-vm:~\$ mpstat 1 5 \\

    \begin{center}
        \begin{tabular}{|p{1.3cm}|p{0.7cm}|p{0.7cm}|p{0.85cm}|p{0.8cm}|p{1.3cm}|p{0.8cm}|p{0.8cm}|p{1cm}|p{1.1cm}|p{1.1cm}|p{1cm}|} \hline
            Hora & CPU & \%usr & \%nice &\%sys & \%iowait & \%irq & \%soft & \%steal &\%guest & \%gnice & \%idle \\ \hline
            20:32:54 & all & 0.00 & 0.00 & 0.25 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 99.75 \\ \hline
            20:32:55 & all & 0.25 & 0.00 & 0.25 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 99.50 \\ \hline
            20:32:56 & all & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 100.00 \\ \hline
            20:32:57 & all & 0.25 & 0.00 & 0.50 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 99.25 \\ \hline
            20:32:58 & all & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 100.00 \\ \hline
            \textbf{Average} & all & 0.10 & 0.00 & 0.20 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 99.70 \\
            \hline
        \end{tabular}
    \end{center}

    \begin{center}
        \begin{tabular}{|p{3cm}|p{12cm}|} \hline
            \textbf{Coluna} & \textbf{Significado detalhado} \\ \hline
            \textbf{\%usr} & Percentual de CPU usado por \textbf{processos do usuário}, ou seja, aplicações normais. \\ \hline
            \textbf{\%nice} & Percentual de CPU usado por \textbf{processos “nice”}, ou seja, com prioridade modificada (menor prioridade). \\ \hline
            \textbf{\%sys} & Percentual de CPU usado pelo \textbf{kernel / sistema operacional}. \\ \hline
            \textbf{\%iowait} & Percentual de tempo que a CPU ficou \textbf{esperando operações de I/O} (disco, rede) concluírem. \\ \hline
            \textbf{\%irq} & Percentual de CPU usado para \textbf{interrupções de hardware} (ex.: teclado, rede, disco). \\ \hline
            \textbf{\%soft} & Percentual de CPU usado para \textbf{interrupções de software} (soft IRQ). \\ \hline
            \textbf{\%steal} & Percentual de CPU que foi \textbf{“roubado”} pela hypervisor em ambientes virtualizados (outras VMs). \\ \hline
            \textbf{\%guest} & Percentual de CPU usado por \textbf{máquinas virtuais convidadas}. \\ \hline
            \textbf{\%gnice} & Percentual de CPU usado por \textbf{processos “nice” dentro de VMs convidadas}. \\ \hline
            \textbf{\%idle} & Percentual de CPU \textbf{ociosa}, ou seja, sem fazer nada. \\ \hline
        \end{tabular}
    \end{center}

    Vmstat: \\
        azureuser@linux-java-vm:~\$ vmstat 1 5 \\
    \begin{center}
        \begin{tabular}{|p{0.2cm}|p{0.2cm}|p{0.8cm}|p{1.5cm}|p{0.9cm}|p{1.1cm}|p{0.2cm}|p{0.2cm}|p{0.4cm}|p{0.4cm}|p{0.4cm}|p{0.5cm}|p{0.2cm}|p{0.2cm}|p{0.4cm}|p{0.3cm}|p{0.3cm}|p{0.3cm}|}
        \hline
        \multicolumn{2}{|c|}{\textbf{procs}} &
        \multicolumn{4}{c|}{\textbf{memory}} &
        \multicolumn{2}{c|}{\textbf{swap}} &
        \multicolumn{2}{c|}{\textbf{io}} &
        \multicolumn{2}{c|}{\textbf{system}} &
        \multicolumn{6}{c|}{\textbf{cpu}} \\ \hline

        \textbf{r} & \textbf{b} & \textbf{swpd} & \textbf{free} & \textbf{buff} & \textbf{cache} &
        \textbf{si} & \textbf{so} & \textbf{bi} & \textbf{bo} & \textbf{in} & \textbf{cs} &
        \textbf{us} & \textbf{sy} & \textbf{id} & \textbf{wa} & \textbf{st} & \textbf{gu} \\ \hline

        1 & 0 & 0 & 32112212 & 22060 & 341996 & 0 & 0 & 114 & 472 & 139 & 0 & 0 & 0 & 100 & 0 & 0 & 0 \\ \hline
        0 & 0 & 0 & 32112212 & 22060 & 341996 & 0 & 0 & 0 & 0 & 302 & 145 & 0 & 0 & 100 & 0 & 0 & 0 \\ \hline
        0 & 0 & 0 & 32112212 & 22060 & 341996 & 0 & 0 & 0 & 0 & 230 & 131 & 0 & 0 & 100 & 0 & 0 & 0 \\ \hline
        0 & 0 & 0 & 32112212 & 22060 & 341996 & 0 & 0 & 0 & 0 & 161 & 109 & 0 & 0 & 100 & 0 & 0 & 0 \\ \hline
        0 & 0 & 0 & 32112212 & 22060 & 341996 & 0 & 0 & 0 & 4 & 630 & 1087 & 0 & 1 & 99 & 0 & 0 & 0 \\ \hline
        \end{tabular}
    \end{center}

    \begin{center}
        \begin{tabular}{|c|c|p{9cm}|}
            \hline
            \textbf{Categoria} & \textbf{Campo} & \textbf{Descrição} \\ \hline

            {\textbf{procs}} 
            & r & Número de processos prontos para execução (na fila de CPU). Valores altos indicam sobrecarga. \\ \cline{2-3}
            & b & Processos bloqueados aguardando operações de entrada/saída (I/O). \\ \hline

            {\textbf{memory}} 
            & swpd & Quantidade de memória virtual (swap) utilizada, em KB. \\ \cline{2-3}
            & free & Quantidade de memória RAM livre. \\ \cline{2-3}
            & buff & Memória usada para buffers de sistema de arquivos. \\ \cline{2-3}
            & cache & Memória usada como cache de páginas de dados frequentemente acessados. \\ \hline

            {\textbf{swap}} 
            & si & Quantidade de dados lidos do swap para a memória (swap in), em KB/s. \\ \cline{2-3}
            & so & Quantidade de dados gravados da memória para o swap (swap out), em KB/s. \\ \hline

            {\textbf{io}} 
            & bi & Blocos lidos do disco por segundo. \\ \cline{2-3}
            & bo & Blocos gravados no disco por segundo. \\ \hline

            {\textbf{system}} 
            & in & Número de interrupções de hardware por segundo. \\ \cline{2-3}
            & cs & Número de trocas de contexto entre processos por segundo. \\ \hline

            {\textbf{cpu}} 
            & us & Percentual de tempo gasto executando processos de usuário. \\ \cline{2-3}
            & sy & Percentual de tempo gasto em processos do sistema (kernel). \\ \cline{2-3}
            & id & Percentual de tempo ocioso da CPU. \\ \cline{2-3}
            & wa & Percentual de tempo aguardando operações de I/O. \\ \cline{2-3}
            & st & Tempo de CPU “roubado” pelo hypervisor (em ambientes virtualizados). \\ \cline{2-3}
            & gu & Tempo gasto executando máquinas virtuais convidadas (guest). \\ \hline

        \end{tabular}
    \end{center}

    Iostat: \\
        \$ iostat -x 1 1

    \begin{tabular}{|p{2.5cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|p{1cm}|}
        \hline
        \textbf{avg-cpu:} & \%user & \%nice & \%system & \%iowait & \%steal & \%idle \\ \hline
            & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 100.00 \\ \hline
    \end{tabular}

    \vspace{1em}

    \begin{table}[h!]
    \centering
    \setlength{\tabcolsep}{2pt} 
    \renewcommand{\arraystretch}{1.1} 

    \resizebox{\textwidth}{!}{%
        \begin{tabular}{|p{1.2cm}|p{0.6cm}|p{0.9cm}|p{1cm}|p{0.8cm}|p{0.9cm}|p{0.9cm}|
        p{0.7cm}|p{1cm}|p{0.9cm}|p{0.8cm}|p{0.8cm}|p{0.9cm}|
        p{0.8cm}|p{1cm}|p{0.9cm}|p{0.8cm}|p{0.9cm}|p{1cm}|p{0.8cm}|p{0.9cm}|p{0.8cm}|p{0.8cm}|} \hline
            Device & r/s & rkB/s & rrqm/s & \%rrqm & r\_await & rareq-sz &
            w/s & wkB/s & wrqm/s & \%wrqm & w\_await & wareq-sz &
            d/s & dkB/s & drqm/s & \%drqm & d\_await & dareq-sz &
            f/s & f\_await & aqu-sz & \%util \\ \hline

            loop0 &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 \\ \hline

            sda &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 \\ \hline

            sdb &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 & 0.00 & 0.00 &
            0.00 & 0.00 & 0.00 & 0.00 \\ \hline
        \end{tabular}%
    }
    \end{table}

    \begin{center}
        \begin{tabular}{|c|c|p{9cm}|}
            \hline
            \textbf{Categoria} & \textbf{Campo} & \textbf{Descrição} \\ \hline

            \textbf{Dispositivo} 
            & Device & Nome do dispositivo de armazenamento (ex: \texttt{sda}, \texttt{nvme0n1}). \\ \hline

            \textbf{Leitura (Read)} 
            & r/s & Número de operações de leitura por segundo. \\ \cline{2-3}
            & rkB/s & Quantidade de dados lidos por segundo (em kilobytes). \\ \cline{2-3}
            & rrqm/s & Requisições de leitura combinadas por segundo. \\ \cline{2-3}
            & \%rrqm & Percentual de requisições de leitura que foram combinadas. \\ \cline{2-3}
            & r\_await & Tempo médio (em ms) para completar uma requisição de leitura (espera + serviço). \\ \cline{2-3}
            & rareq-sz & Tamanho médio das requisições de leitura (em kilobytes). \\ \hline

            \textbf{Escrita (Write)} 
            & w/s & Número de operações de escrita por segundo. \\ \cline{2-3}
            & wkB/s & Quantidade de dados escritos por segundo (em kilobytes). \\ \cline{2-3}
            & wrqm/s & Requisições de escrita combinadas por segundo. \\ \cline{2-3}
            & \%wrqm & Percentual de requisições de escrita que foram combinadas. \\ \cline{2-3}
            & w\_await & Tempo médio (em ms) para completar uma requisição de escrita. \\ \cline{2-3}
            & wareq-sz & Tamanho médio das requisições de escrita (em kilobytes). \\ \hline

            \textbf{Descarte (Discard)} 
            & d/s & Operações de descarte (TRIM) por segundo. \\ \cline{2-3}
            & dkB/s & Quantidade de dados descartados por segundo. \\ \cline{2-3}
            & drqm/s & Requisições de descarte combinadas por segundo. \\ \cline{2-3}
            & \%drqm & Percentual de requisições de descarte que foram combinadas. \\ \cline{2-3}
            & d\_await & Tempo médio (em ms) de uma operação de descarte. \\ \cline{2-3}
            & dareq-sz & Tamanho médio das requisições de descarte (em kilobytes). \\ \hline

            \textbf{Flush} 
            & f/s & Operações de flush por segundo (esvaziamento de buffers para o disco). \\ \cline{2-3}
            & f\_await & Tempo médio (em ms) para completar uma operação de flush. \\ \hline

            \textbf{Fila e Utilização} 
            & aqu-sz & Tamanho médio da fila de requisições pendentes. \\ \cline{2-3}
            & \%util & Percentual de tempo em que o dispositivo esteve ocupado (100\% indica saturação do disco). \\ \hline

        \end{tabular}
    \end{center}


    
\end{document}
